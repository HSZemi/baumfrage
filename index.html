<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Befragung zum Studienfortschritt</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
<style>
.container{
	margin-top: 1em;
	margin-bottom: 1em;
}
button{
	cursor:pointer;
}
</style>
  </head>
  <body>
<div class="container">
<div class="row">
	<div class="col-9">
		<h1>Befragung zum Studienfortschritt</h1>
		<h4>Na, wie läuft's?</h4>
	</div>
	<div class="col">
		<p class="text-right"><img src="img/wusel.png" /></p>
	</div>
</div>


	<div class="card introduction">
		<div class="card-block">
			<h4 class="card-title">Herrje?</h4>
			<div class="card-text">
				<div class="row">
					<div class="col">
						<p>Nur ein geringer Anteil unserer Bachelorstudierenden schließt das Studium innerhalb der Regelstudienzeit ab. Das ist zunächst einmal interessant.</p>
						
						<p>Fragt man nach den Ursachen hierfür, stellt sich heraus, dass viele <i>meinen</i>, zu wissen, woran das liegt, aber verlässliche Zahlen sucht man vergebens.</p>
						
						<p><strong>Wir als Fachschaft finden, dass es an der Zeit ist, zumindest das zu ändern.</strong> Deshalb bitten wir euch, durch die Beantwortung von maximal 7 Fragen eine Datenbasis zu schaffen, aus der im besten Fall eine Verbesserung der Studiensituation resultiert – versprechen können wir aber natürlich nichts. Vielleicht ist ja auch alles töfte?</p>
						
						<p>Falls ihr vorhabt, in Regelstudienzeit fertig zu werden oder es bereits wurdet, nehmt bitte ebenfalls teil. Auch eure Studienverläufe sind interessant!</p>
						
						<p>Obacht! Alle Angaben sind anonym und freiwillig.</p>
						
					</div>
					<div class="col">
						<p class="text-center"><img src="img/wusel_lehre.png" /></p>
					</div>
				</div>
			</div>
			<div class="card-text">
				<button class="btn btn-success btn-block btn-lg" onclick="start()">Befragung starten!</button>
			</div>
			<div class="card-text">
				<p>Diese Befragung wird durch die <a href="https://www.fachschaft.info/impressum">Fachschaft Informatik der Rheinischen Friedrich-Wilhelms-Universität Bonn</a> durchgeführt. Die erhobenen Daten werden lediglich in Form von Auswertungen an Dritte weitergegeben oder veröffentlicht.</p>
			</div>
		</div>
	</div>


	<div class="card question question01">
		<div class="card-block">
			<h4 class="card-title">Hast du bereits einen Bachelorabschluss in Informatik?</h4>
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="radio" name="q1" value="q1-teacher">
					Nein, ich studiere noch Informatik auf Lehramt.
				</label>
			</div>
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="radio" name="q1" value="q1-currentstudent">
					Nein, ich studiere noch im Bachelorstudiengang Informatik.
				</label>
			</div>
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="radio" name="q1" value="q1-formerteacher">
					Ja, ich habe meinen Bachelorabschluss im Lehramt Informatik (LA BA Gym Ge) an der Uni Bonn erworben.
				</label>
			</div>
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="radio" name="q1" value="q1-formerstudent">
					Ja, ich habe meinen Bachelorabschluss in Informatik (B.Sc.) an der Uni Bonn erworben.
				</label>
			</div>
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="radio" name="q1" value="q1-external">
					Ja, ich habe meinen Bachelorabschluss woanders erworben.
				</label>
			</div>
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="radio" name="q1" value="q1-other">
					Nein, ich studiere gar nicht Informatik.
				</label>
			</div>

			<button class="btn btn-default" onclick="back1()">Zurück</button>
			<button class="btn btn-primary" onclick="next1()">Weiter!</button>
		</div>
	</div>



	<!-- if BA -->

	<div class="card question question02">
		<div class="card-block">
			<h4 class="card-title">In welchem Fachsemester befindest du dich aktuell?</h4>

			<select id="q2-fsem">
			</select>
		</div>
		<div class="card-block">
			<h4 class="card-title">Wie viele Leistungspunkte hast du bislang <span class="onlyteacher">in Informatik</span> erworben?</h4>

			<input id="q2-lp" type="number" min="-1" max="250" />
			
			<p class="small">»<a href="https://basis.uni-bonn.de" target="_blank">Oh, da muss ich nachsehen!</a>«</p>
		</div>
		<div class="card-block">
			<button class="btn btn-default" onclick="back2()">Zurück</button>
			<button class="btn btn-primary" onclick="next2()">Weiter!</button>
		</div>
	</div>

	<!-- if BA -->
	<div class="card question question03">
		<div class="card-block">
			<h4 class="card-title">Im wievielten Fachsemester wirst du dein Bachelorstudium voraussichtlich abschließen?</h4>

			<!-- ONLY >= PREVIOUS ANSWER -->
			<select id="q3-fsem">
			</select>

			<button class="btn btn-default" onclick="back3()">Zurück</button>
			<button class="btn btn-primary" onclick="next3()">Weiter!</button>
		</div>
	</div>


	<!-- if MA -->
	<div class="card question question04">
		<div class="card-block">
			<h4 class="card-title">Im wievielten Fachsemester hast du dein Bachelorstudium abgeschlossen?</h4>

			<select id="q4-fsem">
			</select>

			<button class="btn btn-default" onclick="back4()">Zurück</button>
			<button class="btn btn-primary" onclick="next4()">Weiter!</button>

		</div>
	</div>


	<div class="card question question05">
		<div class="card-block q5" id="q5">
			<h4 class="card-title">Wodurch hat sich dein Bachelorstudium verlängert?</h4>

			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="checkbox" name="q5" value="q5-failed-admission">
					Zulassung zu mindestens einer Modulabschlussprüfung nicht geschafft
				</label>
			</div>
			<div class="form-group additional-information">
				<label for="q5-failed-admission-extra">Welches Modul / welche Module?</label>
				<textarea class="form-control" id="q5-failed-admission-extra" rows="3"></textarea>
			</div>
			
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="checkbox" name="q5" value="q5-failed-module">
					Mindestens ein Modul nicht bestanden
				</label>
			</div>
			<div class="form-group additional-information">
				<label for="q5-failed-module-extra">Welches Modul / welche Module?</label>
				<textarea class="form-control" id="q5-failed-module-extra" rows="3"></textarea>
			</div>
			
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="checkbox" name="q5" value="q5-moved-module">
					Module in spätere Semester verschoben
				</label>
			</div>
			<div class="form-group additional-information">
				<label for="q5-moved-module-extra">Welches Modul / welche Module?</label>
				<textarea class="form-control" id="q5-moved-module-extra" rows="3"></textarea>
			</div>
			
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="checkbox" name="q5" value="q5-minor-subject">
					<span class="notteacher">Probleme mit dem Nebenfach</span>
					<span class="onlyteacher">Probleme mit dem ersten Lehramtsfach</span>
				</label>
			</div>
			<div class="form-group additional-information">
				<label for="q5-minor-subject-extra">
					<span class="notteacher">Welches Nebenfach machte Probleme?</span>
					<span class="onlyteacher">Welches ist dein erstes Lehramtsfach?</span>
				</label>
				<textarea class="form-control" id="q5-minor-subject-extra" rows="3"></textarea>
			</div>
			
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="checkbox" name="q5" value="q5-dependencies">
					Ungünstige Modulabhängigkeiten
				</label>
			</div>
			<div class="form-group additional-information">
				<label for="q5-dependencies-extra">Zwischen welchen Modulen?</label>
				<textarea class="form-control" id="q5-dependencies-extra" rows="3"></textarea>
			</div>
			
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="checkbox" name="q5" value="q5-grade-improvement">
					Notenverbesserung in mindestens einem Pflichtmodul
				</label>
			</div>
			<div class="form-group additional-information">
				<label for="q5-grade-improvement-extra">Welches Modul / welche Module?</label>
				<textarea class="form-control" id="q5-grade-improvement-extra" rows="3"></textarea>
			</div>
			
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="checkbox" name="q5" value="q5-modules-o-plenty">
					Mehr Wahlpflichtmodule als nötig besucht
				</label>
			</div>
			
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="checkbox" name="q5" value="q5-pg2">
					Zweite Projektgruppe belegt
				</label>
			</div>
			
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="checkbox" name="q5" value="q5-long-project-group">
					Projektgruppe hat zu lange gedauert
				</label>
			</div>
			<div class="form-group additional-information">
				<label for="q5-long-project-group-extra">In welcher Abteilung?</label>
				<textarea class="form-control" id="q5-long-project-group-extra" rows="3"></textarea>
			</div>
			
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="checkbox" name="q5" value="q5-thesis-problems">
					Thema der Bachelorarbeit wurde einmal zurückgegeben / Bachelorarbeit wurde einmal nicht bestanden
				</label>
			</div>
			
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="checkbox" name="q5" value="q5-job">
					Belastung durch Nebenjob oder Beruf
				</label>
			</div>
			<div class="form-group additional-information">
				<label for="q5-job-extra">Wie viele Stunden pro Woche wird/wurde durchschnittlich gearbeitet?</label>
				<textarea class="form-control" id="q5-job-extra" rows="1"></textarea>
			</div>
			
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="checkbox" name="q5" value="q5-future">
					Ich will/wollte zuerst wissen, was ich danach mache, bevor ich das Studium abschließe.
				</label>
			</div>
			
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="checkbox" name="q5" value="q5-family">
					Familiäre oder persönliche Gründe
				</label>
			</div>
			
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="checkbox" name="q5" value="q5-planned">
					Ich hatte nie vor, in Regelstudienzeit fertig zu werden
				</label>
			</div>
			<div class="form-group additional-information">
				<label for="q5-planned-extra">Wüsoo?</label>
				<textarea class="form-control" id="q5-planned-extra" rows="3"></textarea>
			</div>
			
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="checkbox" name="q5" value="q5-other">
					Weiteres:
				</label>
			</div>
			<div class="form-group additional-information">
				<label for="q5-other-extra">Was war los?</label>
				<textarea class="form-control" id="q5-other-extra" rows="3"></textarea>
			</div>
		</div>

		<div class="card-block" id="q6">
			<h4 class="card-title">Welche dieser Dinge treffen auf dich zu<span class="q5">, haben dein Studium aber nicht verlängert</span>?</h4>

			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="checkbox" name="q6" value="q6-failed-admission">
					Zulassung zu mindestens einer Modulabschlussprüfung nicht geschafft
				</label>
			</div>
			<div class="form-group additional-information">
				<label for="q6-failed-admission-extra">Welches Modul / welche Module?</label>
				<textarea class="form-control" id="q6-failed-admission-extra" rows="3"></textarea>
			</div>
			
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="checkbox" name="q6" value="q6-failed-module">
					Mindestens ein Modul nicht bestanden
				</label>
			</div>
			<div class="form-group additional-information">
				<label for="q6-failed-module-extra">Welches Modul / welche Module?</label>
				<textarea class="form-control" id="q6-failed-module-extra" rows="3"></textarea>
			</div>
			
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="checkbox" name="q6" value="q6-moved-module">
					Module in spätere Semester verschoben
				</label>
			</div>
			<div class="form-group additional-information">
				<label for="q6-moved-module-extra">Welches Modul / welche Module?</label>
				<textarea class="form-control" id="q6-moved-module-extra" rows="3"></textarea>
			</div>
			
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="checkbox" name="q6" value="q6-minor-subject">
					<span class="notteacher">Probleme mit dem Nebenfach</span>
					<span class="onlyteacher">Probleme mit dem ersten Lehramtsfach</span>
				</label>
			</div>
			<div class="form-group additional-information">
				<label for="q6-minor-subject-extra">
					<span class="notteacher">Welches Nebenfach machte Probleme?</span>
					<span class="onlyteacher">Welches ist dein erstes Lehramtsfach?</span>
				</label>
				<textarea class="form-control" id="q6-minor-subject-extra" rows="3"></textarea>
			</div>
			
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="checkbox" name="q6" value="q6-dependencies">
					Ungünstige Modulabhängigkeiten
				</label>
			</div>
			<div class="form-group additional-information">
				<label for="q6-dependencies-extra">Zwischen welchen Modulen?</label>
				<textarea class="form-control" id="q6-dependencies-extra" rows="3"></textarea>
			</div>
			
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="checkbox" name="q6" value="q6-grade-improvement">
					Notenverbesserung in mindestens einem Pflichtmodul
				</label>
			</div>
			<div class="form-group additional-information">
				<label for="q6-grade-improvement-extra">Welches Modul / welche Module?</label>
				<textarea class="form-control" id="q6-grade-improvement-extra" rows="3"></textarea>
			</div>
			
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="checkbox" name="q6" value="q6-modules-o-plenty">
					Mehr Wahlpflichtmodule als nötig besucht
				</label>
			</div>
			
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="checkbox" name="q6" value="q6-pg2">
					Zweite Projektgruppe belegt
				</label>
			</div>
			
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="checkbox" name="q6" value="q6-long-project-group">
					Projektgruppe hat zu lange gedauert
				</label>
			</div>
			<div class="form-group additional-information">
				<label for="q6-long-project-group-extra">In welcher Abteilung?</label>
				<textarea class="form-control" id="q6-long-project-group-extra" rows="3"></textarea>
			</div>
			
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="checkbox" name="q6" value="q6-thesis-problems">
					Thema der Bachelorarbeit wurde einmal zurückgegeben / Bachelorarbeit wurde einmal nicht bestanden
				</label>
			</div>
			
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="checkbox" name="q6" value="q6-job">
					Belastung durch Nebenjob oder Beruf
				</label>
			</div>
			<div class="form-group additional-information">
				<label for="q6-job-extra">Wie viele Stunden pro Woche wird/wurde durchschnittlich gearbeitet?</label>
				<textarea class="form-control" id="q6-job-extra" rows="1"></textarea>
			</div>
			
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="checkbox" name="q6" value="q6-future">
					Ich will/wollte zuerst wissen, was ich danach mache, bevor ich das Studium abschließe.
				</label>
			</div>
			
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="checkbox" name="q6" value="q6-family">
					Familiäre oder persönliche Gründe
				</label>
			</div>
			
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="checkbox" name="q6" value="q6-planned">
					Ich hatte nie vor, in Regelstudienzeit fertig zu werden
				</label>
			</div>
			<div class="form-group additional-information">
				<label for="q6-planned-extra">Wüsoo?</label>
				<textarea class="form-control" id="q6-planned-extra" rows="3"></textarea>
			</div>
			
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="checkbox" name="q6" value="q6-other">
					Weiteres:
				</label>
			</div>
			<div class="form-group additional-information">
				<label for="q6-other-extra">Was war los?</label>
				<textarea class="form-control" id="q6-other-extra" rows="3"></textarea>
			</div>
		</div>
		<div class="card-block">
			<button class="btn btn-default" onclick="back6()">Zurück</button>
			<button class="btn btn-primary" onclick="next6()">Weiter!</button>
		</div>
	</div>



	<div class="card question question07">
		<div class="card-block">
			<h4 class="card-title">Wie steht's mit der Bachelorarbeit?</h4>

			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="radio" name="q7" value="q7-other">
					Mit der Bachelorarbeit beschäftige ich mich noch nicht
				</label>
			</div>
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="radio" name="q7" value="q7-currentlyworking">
					Ich arbeite aktuell an meiner Bachelorarbeit
				</label>
			</div>
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="radio" name="q7" value="q7-unsure">
					Ich bin unsicher / traue mir die Bachelorarbeit aktuell noch nicht zu
				</label>
			</div>
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="radio" name="q7" value="q7-clueless">
					Ich weiß nicht genau wo ich anfangen soll mit der Suche nach einer Bachelorarbeit
				</label>
			</div>
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="radio" name="q7" value="q7-search-supervision-topic">
					Ich suche derzeit aktiv eine Betreuung und ein Thema für meine Bachelorarbeit
				</label>
			</div>
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="radio" name="q7" value="q7-search-topic">
					Ich suche derzeit mit meiner Betreuung ein Thema für meine Bachelorarbeit
				</label>
			</div>
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="radio" name="q7" value="q7-search-supervision">
					Ich habe bereits ein Thema und suche dafür eine Betreuung
				</label>
			</div>

			<button class="btn btn-default" onclick="back7()">Zurück</button>
			<button class="btn btn-primary" onclick="next7()">Weiter!</button>

		</div>
	</div>

	<!-- if MA or BAPG -->

	<div class="card question question08">
		<div class="card-block">
			<h4 class="card-title">Hat die Bachelorarbeit sich aus einer Projektgruppe ergeben?</h4>


			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="radio" name="q8" value="q8-both-same">
					Ja, Thema und Betreuung blieben gleich
				</label>
			</div>
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="radio" name="q8" value="q8-same-supervision">
					Ja, ein anderes Thema unter der gleichen Betreuung
				</label>
			</div>
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="radio" name="q8" value="q8-similar-topic">
					Ja, ein ähnliches Thema unter anderer Betreuung
				</label>
			</div>
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="radio" name="q8" value="q8-referral">
					Jein, mir wurden anderes Thema und Betreuung vermittelt
				</label>
			</div>
			<div class="form-check">
				<label class="form-check-label">
					<input class="form-check-input" type="radio" name="q8" value="q8-no">
					Nein.
				</label>
			</div>

			<button class="btn btn-default" onclick="back8()">Zurück</button>
			<button class="btn btn-primary" onclick="next8()">Weiter!</button>

		</div>
	</div>

	<div class="card sendresult">
		<div class="card-block">
			<h4 class="card-title">Fast geschafft!</h4>
			<div class="card-text" id="sendbutton">
			<button class="btn btn-default" onclick="back9()">Zurück</button>
				<button class="btn btn-primary" onclick="collect_data()">Daten absenden</button>
			</div>
			<div class="card-text" id="transmitgif">
				<p class="text-left"><img src="img/wusel_transmit.gif" /></p>
			</div>
		</div>
	</div>
	<div class="card goodbye">
		<div class="card-block">
			<h4 class="card-title">Danke!</h4>
			<div class="card-text notforyou">
				<p>Es freut uns, dass du uns auf unserer Mission unterstützen willst. Leider passt dein Studienverlauf nicht in unsere Befragung.</p>
				
				<p>Falls du uns unabhängig davon etwas mitteilen möchtest, kannst du das natürlich gerne tun!</p> 
				
				<p><a href="https://www.fachschaft.info">Kontaktmöglichkeiten? Auf unserer Hauptseite links in der Sidebar!</a></p>
				
				<p class="einschreibehinweis" style="font-style: italic;">Noch nicht Informatik studiert? <a href="https://www.uni-bonn.de/studium/vor-dem-studium/bewerbung-zulassung/wie-schreibe-ich-mich-ein#zulassungsfrei" target="_blank">Schreib dich zum Wintersemester ein!</a></p>
			</div>
			<div class="card-text genericthanks">
				<p class="badge badge-default">Der Server sagt: <span  id="transmitresult"></span></p>
				
				<p>Es freut uns, dass du uns bei unserer Mission unterstützt.</p>
				
				<p>Falls du uns unabhängig davon etwas mitteilen möchtest, kannst du das naürlich gerne tun!</p> 
				
				<a href="https://www.fachschaft.info">Kontaktmöglichkeiten? Auf unserer Hauptseite links in der Sidebar!</a>
			</div>
		</div>
	</div>


</div>
    <script src="js/jquery.min.js"></script>
<script>

function notforyou(){
	let val = $('input[name=q1]:checked').val();
	return(val === "q1-external" || val == "q1-other");
}
function currentba(){
	let val = $('input[name=q1]:checked').val();
	return (val === "q1-currentstudent" || val == "q1-teacher");
}
function currentma(){
	let val = $('input[name=q1]:checked').val();
	return (val === "q1-formerstudent" || val == "q1-formerteacher");
}

function isteacher(){
	let val = $('input[name=q1]:checked').val();
	return (val === "q1-teacher" || val == "q1-formerteacher");
}

function isnotlate(){
	let endsem = $('#q3-fsem').val();
	if(endsem === "-"){
		endsem = $('#q4-fsem').val();
	}
	
	let rszindex = semesterangabe.indexOf("6");
	let endsemindex = semesterangabe.indexOf(endsem);
	
	if(endsemindex === -1){
		return false;
	}
	
	return (rszindex >= endsemindex);
}

function toggleTeacher(){
	if(isteacher()){
		$('.onlyteacher').show();
		$('.notteacher').hide();
	} else {
		$('.onlyteacher').hide();
		$('.notteacher').show();
	}
}

var semesterangabe = ["-","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15",">15"];

function resetfsem(id){
	$(id).html("");
	$(semesterangabe).each(function(item){
		$(id).append('<option value="'+semesterangabe[item]+'">'+semesterangabe[item]+'</option>');
	});
}

$(function(){

	$(semesterangabe).each(function(item){
		$('#q2-fsem').append('<option value="'+semesterangabe[item]+'">'+semesterangabe[item]+'</option>');
		$('#q3-fsem').append('<option value="'+semesterangabe[item]+'">'+semesterangabe[item]+'</option>');
		$('#q4-fsem').append('<option value="'+semesterangabe[item]+'">'+semesterangabe[item]+'</option>');
	});

	$('.question').hide();
	$('.additional-information').hide();
	$('.sendresult').hide();
	$('.goodbye').hide();
	$('#transmitgif').hide();
	$('#transmitresult').hide();
	$('#aurevoir').hide();
	$('.introduction').show();
	
	$('input[type=checkbox]').click(function(){
		let next = $(this).parent().parent().next();
		if(next.hasClass('additional-information')){
			next.slideToggle();
		}
	});

});

function start(){
	$('.introduction').hide(400);
	$('.question01').show(400);
}function next1(){

	let val = $('input[name=q1]:checked').val();

	if(val == undefined){
		alert("Bitte wähle eine Option aus :(((((");
	}
	
	toggleTeacher();
	
	if($('input[name=q1]:checked').val() === "q1-other"){
		$('.einschreibehinweis').show();
	} else {
		$('.einschreibehinweis').hide();
	}

	if(currentba()){
		$('.question01').hide(400);
		$('.question02').show(400);
	}
	if(currentma()){
		$('.question01').hide(400);
		$('.question04').show(400);
	}
	if(notforyou()){
		$('.question01').hide(400);
		$('.notforyou').show(400);
		$('.genericthanks').hide(400);
		$('.goodbye').show(400);
	} else {
		$('.genericthanks').show(400);
		$('.notforyou').hide(400);
	}
}
function back1(){
	$('.question01').hide(400);
	$('.introduction').show(400);
}

function next2(){
	let fsem = $('#q2-fsem').val();
	

	let currentlp = parseInt($('#q2-lp').val());
	
	if(fsem === "-"){
		alert("Bitte wähle ein Fachsemester aus :(((((");
	}else if(isNaN(currentlp)){
		alert("Bitte gib eine Leistungspunktanzahl ein :(((((");
	} else if(currentlp < parseInt($('#q2-lp').attr('min')) || currentlp > parseInt($('#q2-lp').attr('max'))){
		alert("Bitte gib eine Zahl zwischen "+ $('#q2-lp').attr('min')+" und "+$('#q2-lp').attr('max')+" ein :((( ["+currentlp+"]");
	}else {

		let fsemindex = semesterangabe.indexOf(fsem);
		if(fsemindex === -1){
			alert("HACKER!!!");
		} else {
			let endsemesterangabe = semesterangabe.slice(fsemindex);
			$('#q3-fsem').html('');
			$(endsemesterangabe).each(function(item){
				$('#q3-fsem').append('<option value="'+endsemesterangabe[item]+'">'+endsemesterangabe[item]+'</option>');
			});
			
			resetfsem('#q4-fsem');

			$('.question02').hide(400);
			$('.question03').show(400);	
		}
	}
}

function back2(){
	$('.question02').hide(400);
	$('.question01').show(400);
}

function next3(){
	
	if(isnotlate()){
		$('input[name=q5]').prop("checked", false);
		$('.q5 .additional-information').hide();
		$('.q5').hide();
	} else {
		$('.q5').show();
	}

	$('.question03').hide(400);
	$('.question05').show(400);
}
function back3(){
	$('.question03').hide(400);
	$('.question02').show(400);
}

function next4(){	
	
	resetfsem('#q2-fsem');
	$('#q2-lp').val("");
	resetfsem('#q3-fsem');
	
	if(isnotlate()){
		$('input[name=q5]').prop("checked", false);
		$('.q5 .additional-information').hide();
		$('.q5').hide();
	} else {
		$('.q5').show();
	}
	

	$('.question04').hide(400);
	$('.question05').show(400);
}
function back4(){
	$('.question04').hide(400);
	$('.question01').show(400);
}
function next6(){
	$('.question05').hide(400);

	if(currentba()){
		$('.question07').show(400);
	}
	if(currentma()){
		$('input[name=q7]').prop("checked", false);
		$('.question08').show(400);
	}
}function back6(){
	$('.question05').hide(400);
	if(currentba()){
		$('.question03').show(400);
	} else {
		$('.question04').show(400);
	}
}
function next7(){
	let checked = $('input[name=q7]:checked');
	
	if(checked.length < 1){	
		alert("Bitte wähle eine Option aus :(");
	} else {
		let selection = checked.val();

		$('.question07').hide(400);

		if(selection == "q7-currentlyworking"){
			$('.question08').show(400);
		} else {
			$('input[name=q8]').prop("checked", false);
			$('.sendresult').show(400);
		}
	}
}
function back7(){
	$('.question07').hide(400);
	$('.question05').show(400);
}
function next8(){
	
	if($('input[name=q8]:checked').length < 1){	
		alert("Bitte wähle eine Option aus :(");
	} else {
		$('.question08').hide(400);
		$('.sendresult').show(400);
	}
}
function back8(){
	$('.question08').hide(400);
	
	if(currentba()){
		$('.question07').show(400);
	} else {
		$('.question05').show(400);
	}
}
function back9(){
	$('.sendresult').hide(400);
	
	if($('input[name=q8]:checked').length > 0){
		$('.question08').show(400);
	} else {
		$('.question07').show(400);
	}
}


function collect_data(){

	$('#sendbutton').hide(100);
	$('#transmitgif').show(100);
	// q1
	let q1 = $('input[name=q1]:checked').val();
	// q2
	let q2_fsem = $('#q2-fsem').val();
	let q2_lp = $('#q2-lp').val();
	// q3
	let q3 = $('#q3-fsem').val();
	// q4
	let q4 = $('#q4-fsem').val();
	// q5
	let q5 = {
		"q5-failed-admission":{"checked":false,"extra":""},
		"q5-failed-module":{"checked":false,"extra":""},
		"q5-moved-module":{"checked":false,"extra":""},
		"q5-minor-subject":{"checked":false,"extra":""},
		"q5-dependencies":{"checked":false,"extra":""},
		"q5-grade-improvement":{"checked":false,"extra":""},
		"q5-modules-o-plenty":{"checked":false,"extra":""},
		"q5-pg2":{"checked":false,"extra":""},
		"q5-long-project-group":{"checked":false,"extra":""},
		"q5-thesis-problems":{"checked":false,"extra":""},
		"q5-job":{"checked":false,"extra":""},
		"q5-future":{"checked":false,"extra":""},
		"q5-family":{"checked":false,"extra":""},
		"q5-planned":{"checked":false,"extra":""},
		"q5-other":{"checked":false,"extra":""}
	};
	
	let checked_items_5 = $('input[name=q5]:checked');
	
	checked_items_5.each(function(index, element){
		let id = element.value;
		q5[id].checked = true;
		q5[id].extra = $('#'+id+"-extra").val();
	});
	
	
	// q6
	let q6 = {
		"q6-failed-admission":{"checked":false,"extra":""},
		"q6-failed-module":{"checked":false,"extra":""},
		"q6-moved-module":{"checked":false,"extra":""},
		"q6-minor-subject":{"checked":false,"extra":""},
		"q6-dependencies":{"checked":false,"extra":""},
		"q6-grade-improvement":{"checked":false,"extra":""},
		"q6-modules-o-plenty":{"checked":false,"extra":""},
		"q6-pg2":{"checked":false,"extra":""},
		"q6-long-project-group":{"checked":false,"extra":""},
		"q6-thesis-problems":{"checked":false,"extra":""},
		"q6-job":{"checked":false,"extra":""},
		"q6-future":{"checked":false,"extra":""},
		"q6-family":{"checked":false,"extra":""},
		"q6-planned":{"checked":false,"extra":""},
		"q6-other":{"checked":false,"extra":""}
	};
	
	let checked_items_6 = $('input[name=q6]:checked');
	
	checked_items_6.each(function(index, element){
		let id = element.value;
		q6[id].checked = true;
		q6[id].extra = $('#'+id+"-extra").val();
	});
	// q7
	let q7 = $('input[name=q7]:checked').val();
	// q8
	let q8 = $('input[name=q8]:checked').val();
	
	if(q1 === undefined){
		q1 = "none";
	}
	if(q7 === undefined){
		q7 = "none";
	}
	if(q8 === undefined){
		q8 = "none";
	}
	
	let data = {"q1":q1,"q2_fsem":q2_fsem,"q2_lp":q2_lp,"q3":q3,"q4":q4,"q5":q5,"q6":q6,"q7":q7,"q8":q8};
	
	setTimeout(function(){
		$.post("data.php", data, function(retval){
			$('#transmitresult').text(retval);
			$('.sendresult').hide(400);
			$('#transmitresult').show(400);
			$('.goodbye').show(400);
		});
	}, 1000);
}

</script>
  </body>
</html>
